<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><title>|
Expand Your Blog's Reach with this AWS Automation Tool
</title><meta charset=utf-8><meta name=generator content="Hugo 0.124.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content><meta name=description content="JULIA FURST MORGADO
"><link rel=stylesheet href=/scss/main.min.1147aa5bacb4bce677a0e264073829caedb82fd18ea07a5f1d80521f539d1c45.css integrity="sha256-EUeqW6y0vOZ3oOJkBzgpyu24L9GOoHpfHYBSH1OdHEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.a435723c27c2e9a155a21a6ab80380c0d3a982912b7beabfa6274b2b55e0d456.css integrity="sha256-pDVyPCfC6aFVohpquAOAwNOpgpEre+q/pidLK1Xg1FY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://juliafmorgado.com/posts/expand-blog-reach-with-aws-automation-tool/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Expand Your Blog's Reach with this AWS Automation Tool"><meta name=twitter:description content="Hurrah!! If you&rsquo;re reading this post on Hashnode or Dev.to it means it worked!"><meta property="og:title" content="Expand Your Blog's Reach with this AWS Automation Tool"><meta property="og:description" content="Hurrah!! If you&rsquo;re reading this post on Hashnode or Dev.to it means it worked!"><meta property="og:type" content="article"><meta property="og:url" content="https://juliafmorgado.com/posts/expand-blog-reach-with-aws-automation-tool/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-03T17:46:05+00:00"><meta property="article:modified_time" content="2023-07-03T17:46:05+00:00"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Expand Your Blog\u0027s Reach with this AWS Automation Tool","headline":"Expand Your Blog\u0027s Reach with this AWS Automation Tool","alternativeHeadline":"","description":"
      
        Hurrah!! If you\u0026rsquo;re reading this post on Hashnode or Dev.to it means it worked!


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/juliafmorgado.com\/posts\/expand-blog-reach-with-aws-automation-tool\/"},"author":{"@type":"Person","name":"Julia Furst Morgado"},"creator":{"@type":"Person","name":"Julia Furst Morgado"},"accountablePerson":{"@type":"Person","name":"Julia Furst Morgado"},"copyrightHolder":{"@type":"Person","name":"Julia Furst Morgado"},"copyrightYear":"2023","dateCreated":"2023-07-03T17:46:05.96Z","datePublished":"2023-07-03T17:46:05.96Z","dateModified":"2023-07-03T17:46:05.96Z","publisher":{"@type":"Organization","name":"Julia Furst Morgado","url":"https://juliafmorgado.com/","logo":{"@type":"ImageObject","url":"https:\/\/juliafmorgado.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"https:\/\/juliafmorgado.com\/posts\/expand-blog-reach-with-aws-automation-tool\/","wordCount":"1494","genre":["Tech"],"keywords":["AWS","Automation"]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=https://blog-imgs-23.s3.amazonaws.com/julia.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/></a></div><div class=sidebar__introduction-description><p>JULIA FURST MORGADO<br></p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://twitter.com/juliafmorgado target=_blank rel="noopener me" aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/juliafmorgado target=_blank rel="noopener me" aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/juliafmorgado target=_blank rel="noopener me" aria-label=Github title=Github><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.youtube.com/c/JuliaFMorgado target=_blank rel="noopener me" aria-label=Youtube title=Youtube><i class="fab fa-youtube fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.instagram.com/juliafmorgado/ target=_blank rel="noopener me" aria-label=Instagram title=Instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.tiktok.com/@juliafmorgado target=_blank rel="noopener me" aria-label="Tik Tok" title="Tik Tok"><i class="fab fa-tiktok fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Julia F Morgado 2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-H2FSKPLDX2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H2FSKPLDX2")</script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Blog</a></li><li class=nav__list-item><a href=/about/ title>About</a></li><li class=nav__list-item><a href=https://github.com/juliafmorgado/talks target=_blank rel="noopener noreferrer" title>Talks</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Expand Your Blog's Reach With This AWS Automation Tool</h1><p>Hurrah!! If you&rsquo;re reading this post on Hashnode or Dev.to it means it worked!</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/blog-crossposting-automation.png></p><p>Now let&rsquo;s start from the beginning (if you want, you can jump to the <a href=/posts/expand-blog-reach-with-aws-automation-tool/#tutorial>tutorial</a>).</p><p>I started my tech journey with <a href=https://youtu.be/MhUAKpF47GU>100Devs</a>, where I used to share coding tips and short tutorials on <a href=https://julia.hashnode.dev/>Hashnode</a> and <a href=https://dev.to/juliafmorgado>Dev.to</a>. As I gained experience I expanded to <a href=https://medium.com/@juliafmorgado>Medium</a> as well. However, I soon felt the need to have more control over my publications so I decided also to have my own domain self-host a blog. The goal was to post on my blog but also post on those other platforms. I didn&rsquo;t know how to do it, but I knew I would. At first, I did everything manually by copying and pasting, but it was a hassle and took too much time. That&rsquo;s when I came across <a href=https://twitter.com/allenheltondev>Allen&rsquo;s</a> solution—a <a href=https://www.readysetcloud.io/blog/allen.helton/how-i-built-a-serverless-automation-to-cross-post-my-blogs/>serverless app that automatically cross-posts from your blog to Hashnode, Dev and Medium</a>.</p><p>In essence, <a href=https://github.com/aws-community-projects/blog-crossposting-automation>his solution</a> works like an automated assembly line for your blog posts. Once you write a post and commit it to your main branch on GitHub, AWS Amplify verifies the content and if everything checks out, a Lambda function retrieves your post and sets a workflow in motion. This workflow simultaneously transforms and publishes your post across Medium, Hashnode, and Dev.to.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/automation-workflow.png></p><p>Since his solution required the blog to be built with Hugo and hosted on AWS Amplify, those were the platforms I use. I wrote a short blog on <a href=https://www.juliafmorgado.com/posts/build-website-hugo-on-aws-amplify/>How to Build a Website with Hugo on AWS Amplify</a>.</p><p><a href=https://twitter.com/martzcodes>Matt</a> also had the <a href=https://matt.martz.codes/improving-a-serverless-app-to-cross-post-blogs>brilliant idea</a> to convert Allen&rsquo;s solution to use AWS CDK (check the code <a href=https://github.com/martzcodes/blog-crossposting-automation>here</a>). I found it genius and tried implementing it but I am still trying to make it work. Everything is a learning experience. Nothing is wasted time. The good thing is that Matt&rsquo;s solution doesn&rsquo;t require your blog to be built with Hugo or hosted on AWS Amplify.</p><p>Before I move on, I want to thank them both for their help. Both of them took their time to check my code over and over and explain me what was wrong. They are incredible people in the AWS community and I recommend everyone check them out (and give them a follow!).</p><p><strong>Some of the challenges I faced:</strong></p><ul><li>Both Allen and Matt&rsquo;s posts/solutions are more high level and assume you already have an understanding of AWS Lambda at least. Since I didn&rsquo;t have it, I broke my head several times but now I am here to give you that part. The basic part that they forgot to add.</li><li>Secondly, software is always evolving. So while I was implementing Matt&rsquo;s solution, AWS changed something about S3 which made it get an error. Luckily we spotted it and he made the changes on the code base.</li></ul><p><strong>Some things I still need to do:</strong></p><ul><li>Figure out why the Medium API is not working!! According to their site their <a href=https://github.com/Medium/medium-api-docs>API has been deprecated</a> so even after reviewing with Allen the whole code, I keep getting an error that my AuthorId is wrong. We believe it&rsquo;s a problem on their side but I still want it to work.</li><li>Get Matt&rsquo;s solution to work. I&rsquo;m almost there, according to the AWS CloudWatch logs, my &ldquo;identify-new-content&rdquo; function is working but I keep getting an error with the Hashnode API.</li><li>Find a way (probably Matt&rsquo;s way) to automate the image hosting. I don&rsquo;t think I want them hosted on GitHub, just on an S3 bucket. But Matt&rsquo;s solution assumes they are hosted on GitHub.</li><li>Import the banner image to the other platforms, so when they are posted on my blog they should also be posted on Hashnode, Medium and Dev.to.</li><li>Set up email notifications for when the crossposting process fails.</li><li>Set up automatic Tweets once a new post is out.</li></ul><h2 id=tutorial>Tutorial</h2><p>Now, let&rsquo;s move on to the exciting part. In this blog post, I want to share step by step what I did for Allen&rsquo;s solution (once I get Matt&rsquo;s solution to work I&rsquo;ll write another post). If you have a Hugo site I really urge you to try this solution, and if you don&rsquo;t have a Hugo site, try to make it work for your site! The beauty of open source is that everyone is welcome to try it, modify it, make it better and share it with the world.</p><p>And finally, if you get it to work, awesome. Share it with us and write a post about it! And if you don&rsquo;t get it to work don&rsquo;t fret, message us and we will try to help.</p><ol><li><p><a href=https://www.juliafmorgado.com/posts/build-website-hugo-on-aws-amplify/>Create or migrate your blog to Hugo and deploy it on AWS Amplify</a>. Make sure you have all <a href=https://github.com/aws-community-projects/blog-crossposting-automation#prerequisites>the prerequisites</a> mentioned in the documentation.</p></li><li><p>Create an <a href=https://docs.aws.amazon.com/singlesignon/latest/userguide/get-started-enable-identity-center.html>IAM User on IAM Identity Center</a> with the necessary permissions (you could also create an IAM user or IAM role).</p></li><li><p><a href=https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html>Install the AWS CLI</a> on your machine. This will enable you to interact with AWS services from the command line.</p></li><li><p>Configure the <a href=https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html>AWS CLI to authenticate with AWS IAM Identity Center</a>. If you created an IAM user use <a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-authentication-user.html>these instructions</a>, or role use <a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-role.html>these instructions</a>.</p></li><li><p><a href=https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html>Install the AWS SAM CLI</a>, which is the command-line tool used for building and deploying serverless applications.</p></li><li><p>Generate API keys for <a href=https://hashnode.com/settings/developer>Hashnode</a>, <a href=https://dev.to/settings/extensions>Dev.to</a> and <a href=https://help.medium.com/hc/en-us/articles/213480228-Get-an-integration-token-for-your-writing-app>Medium</a>. You&rsquo;ll need these API keys to authenticate and interact with the respective platforms.</p></li><li><p>Clone the <a href=https://github.com/aws-community-projects/blog-crossposting-automation>GitHub repo</a> containing the blog crossposting automation solution to your local machine using the <code>git clone</code> command.</p></li><li><p>Navigate to the project directory using the <code>cd</code> command to switch to the cloned repository&rsquo;s directory.</p></li><li><p>Next, you need to initialize an npm project. Run the command npm init and provide the required information about your project. You can press Enter to accept the default values.</p></li><li><p>Deploy the solution by running the following commands in the terminal:</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sam build --parallel
</span></span><span class=line><span class=cl>sam deploy --guided
</span></span></code></pre></div><p>These commands will initiate the deployment process and prompt you with a series of questions. You can press Enter to accept the default values or provide your own answers. The configuration file will be generated at the end of the process.</p><p>Once the build process completes successfully, you&rsquo;ll notice a new directory named .aws-sam created in the project&rsquo;s root directory. This directory contains the necessary files for the deployed solution. If the directory doesn&rsquo;t appear in your IDE,you have to enable the visibility of hidden files.</p><blockquote><p>To create a <strong>GitHubPAT</strong> follow <a href=https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-fine-grained-personal-access-token>these instructions</a>.</p><p>The AmplifyProjectID can be found under the app settings of your AWS Amplify blog. It is the last digits on your App ARN: arn:aws:amplify:eu-west-1:xxxxxxxxxx/AMPLIFYPROJECTID</p><p>Your publication ID can be obtained by going to your Blog Dashboard, then copying it from the URL, which will be in this format: wwwhashnode.com/{your publication ID}/dashboard</p></blockquote><ol start=11><li>There are some defect environment variables that Allen hasn&rsquo;t changed in the code base yet so we have to change PATH to CONTENT_PATH (in the identify-new-content folder → index.js file - line 40 and 56 AND in the template.yaml file - line 219).</li></ol><p><img src=https://blog-imgs-23.s3.amazonaws.com/crossposting-envvar.png></p><p><img src=https://blog-imgs-23.s3.amazonaws.com/crossposting-var.png></p><ol start=12><li>Because Hashnode&rsquo;s API has been updated to support publications, we need to add the following code snippet in the parse-post folder → index.js file – after line 119, to ensure that posts created through our lambda function are properly associated with the appropriate publication on Hashnode.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>isPartOfPublication: {
</span></span><span class=line><span class=cl>          publicationId: process.env.HASHNODE_PUBLICATION_ID
</span></span><span class=line><span class=cl>        },
</span></span></code></pre></div><p>The publicationId key in the isPartOfPublication field specifies the ID of the publication to which the post belongs. By including this field in the request payload, we are telling the Hashnode API that the post should be added to the specified publication.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/crossposting-publication.png></p><ol start=13><li><p>Run <code>sam build</code> and <code>sam deploy</code> again. Anytime you make a change you have to run these commands!</p></li><li><p>Voilá! Now you should test to see if it works. Your blog post must have a <strong>specific set of metadata</strong> in order to work. And in the commit message of the blog post you <strong>must have &ldquo;[blog]&rdquo; at the beginning of the message</strong>. So for example: `git commit -m &lsquo;[blog] new blog post about crossposting automation with Lambda functions&rsquo;.</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: My first blog!
</span></span><span class=line><span class=cl>description: This is the subtitle that is used for SEO and visible in Medium and Hashnode posts.
</span></span><span class=line><span class=cl>image: https://link-to-hero-image.png
</span></span><span class=line><span class=cl>image_attribution: Any attribution required for hero image
</span></span><span class=line><span class=cl>categories:
</span></span><span class=line><span class=cl>  - categoryOne
</span></span><span class=line><span class=cl>tags:
</span></span><span class=line><span class=cl>  - serverless
</span></span><span class=line><span class=cl>  - other tag
</span></span><span class=line><span class=cl>slug: /my-first-blog
</span></span><span class=line><span class=cl>---
</span></span></code></pre></div><h2 id=final-notes>Final notes</h2><p>As I mentioned at the beginning, the email notification on the status of the cross-posting didn&rsquo;t work for me nor did the crossposting to Medium. Allen and I went through every single line of code, the step functions, and CloudWatch logs and I keep getting the same error – that my userId is invalid.</p><p>I hope this post was helpful! I wish you the best in your blogging journey and would love for you to share your journey of automating the blog crossposting workflow.</p><hr><p>If you liked this article, go follow me on <a href=https://twitter.com/juliafmorgado>Twitter</a> (where I share my tech journey) daily, connect with me on <a href=https://www.linkedin.com/in/juliafmorgado/>LinkedIn</a>, check out my <a href=https://www.instagram.com/juliafmorgado/>IG</a>, and make sure to subscribe to my <a href=https://www.youtube.com/c/JuliaFMorgado>Youtube</a> channel for more amazing content!!</p><h3>Related Posts</h3><ul><li><a href=/posts/secure-aws-environment-terraform-vault-veeam/>Secure Your AWS Environments with Terraform, Vault, and Veeam</a></li><li><a href=/posts/setting-up-kubernetes-cluster-aws-eks-with-eksctl-and-deploying-app/>Setting up a Kubernetes cluster on AWS EKS with eksctl and Deploying an App</a></li><li><a href=/posts/deploy-your-first-web-app-on-aws-amplify-lambda-dynamodb-api-gateway/>Deploy Your First Web App on AWS with AWS Amplify, Lambda, DynamoDB and API Gateway</a></li></ul></div><div class=post__footer><span><a class=category href=/categories/tech/>Tech</a></span>
<span><a class=tag href=/tags/aws/>AWS</a><a class=tag href=/tags/automation/>Automation</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Julia F Morgado 2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-H2FSKPLDX2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H2FSKPLDX2")</script></body></html>