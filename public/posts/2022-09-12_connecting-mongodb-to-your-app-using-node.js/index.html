<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><title>|
Connecting MongoDB to your app using Node.js
</title><meta charset=utf-8><meta name=generator content="Hugo 0.124.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content><meta name=description content="JULIA FURST MORGADO
"><link rel=stylesheet href=/scss/main.min.1147aa5bacb4bce677a0e264073829caedb82fd18ea07a5f1d80521f539d1c45.css integrity="sha256-EUeqW6y0vOZ3oOJkBzgpyu24L9GOoHpfHYBSH1OdHEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.a435723c27c2e9a155a21a6ab80380c0d3a982912b7beabfa6274b2b55e0d456.css integrity="sha256-pDVyPCfC6aFVohpquAOAwNOpgpEre+q/pidLK1Xg1FY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://juliafmorgado.com/posts/2022-09-12_connecting-mongodb-to-your-app-using-node.js/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_0.png"><meta name=twitter:title content="Connecting MongoDB to your app using Node.js"><meta name=twitter:description content="MongoDB is an open source NoSQL database management program. NoSQL databases are quite useful for working with large sets of distributed data."><meta property="og:title" content="Connecting MongoDB to your app using Node.js"><meta property="og:description" content="MongoDB is an open source NoSQL database management program. NoSQL databases are quite useful for working with large sets of distributed data."><meta property="og:type" content="article"><meta property="og:url" content="https://juliafmorgado.com/posts/2022-09-12_connecting-mongodb-to-your-app-using-node.js/"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_0.png"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_1.jpg"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_2.jpg"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_3.jpg"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_4.jpg"><meta property="og:image" content="https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_5.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-12T17:42:30+00:00"><meta property="article:modified_time" content="2023-01-08T10:34:15-05:00"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Connecting MongoDB to your app using Node.js","headline":"Connecting MongoDB to your app using Node.js","alternativeHeadline":"","description":"
      
        MongoDB is an open source NoSQL database management program. NoSQL databases are quite useful for working with large sets of distributed data.


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/juliafmorgado.com\/posts\/2022-09-12_connecting-mongodb-to-your-app-using-node.js\/"},"author":{"@type":"Person","name":"Julia Furst Morgado"},"creator":{"@type":"Person","name":"Julia Furst Morgado"},"accountablePerson":{"@type":"Person","name":"Julia Furst Morgado"},"copyrightHolder":{"@type":"Person","name":"Julia Furst Morgado"},"copyrightYear":"2022","dateCreated":"2022-09-12T17:42:30.36Z","datePublished":"2022-09-12T17:42:30.36Z","dateModified":"2023-01-08T10:34:15.00Z","publisher":{"@type":"Organization","name":"Julia Furst Morgado","url":"https://juliafmorgado.com/","logo":{"@type":"ImageObject","url":"https:\/\/juliafmorgado.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_0.png","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_1.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_2.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_3.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_4.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_5.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_6.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_7.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_8.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_9.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_10.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_11.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_12.jpg","https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_13.jpg"],"url":"https:\/\/juliafmorgado.com\/posts\/2022-09-12_connecting-mongodb-to-your-app-using-node.js\/","wordCount":"1346","genre":["Tutorial"],"keywords":["Tutorial","NodeJS","MongoDB"]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=https://blog-imgs-23.s3.amazonaws.com/julia.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/></a></div><div class=sidebar__introduction-description><p>JULIA FURST MORGADO<br></p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://twitter.com/juliafmorgado target=_blank rel="noopener me" aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/juliafmorgado target=_blank rel="noopener me" aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/juliafmorgado target=_blank rel="noopener me" aria-label=Github title=Github><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.youtube.com/c/JuliaFMorgado target=_blank rel="noopener me" aria-label=Youtube title=Youtube><i class="fab fa-youtube fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.instagram.com/juliafmorgado/ target=_blank rel="noopener me" aria-label=Instagram title=Instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.tiktok.com/@juliafmorgado target=_blank rel="noopener me" aria-label="Tik Tok" title="Tik Tok"><i class="fab fa-tiktok fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Julia F Morgado 2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-H2FSKPLDX2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H2FSKPLDX2")</script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Blog</a></li><li class=nav__list-item><a href=/about/ title>About</a></li><li class=nav__list-item><a href=https://github.com/juliafmorgado/talks target=_blank rel="noopener noreferrer" title>Talks</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Connecting MongoDB to Your App Using Node.js</h1><p>MongoDB is an open source NoSQL database management program. NoSQL databases are quite useful for working with large sets of distributed data. We can store information in this database, manage it and then retrieve it and display it to people who view our app.</p><p>Now, to connect to a Mongo database from a Node.js server, you can either use:</p><ul><li>Mongo, official driver npm package</li><li>Mongoose, elegant object modeling tool for mongo in nodejs</li></ul><p>Most online tutorials teach how to set up a Node/Express app with MongoDB using mongoose, which isn’t very helpful for beginners.</p><p>In this tutorial, I’ll walk you through the basics of setting up a MongoDB account, generating a connection string, and connecting your MongoDB database to your app without mongoose.</p><p>If you prefer to watch a video, check out the tutorial <a href=https://youtu.be/Bcg6C0G_tAA>here</a>.</p><p><a href=https://youtu.be/Bcg6C0G_tAA title="Share link">https://youtu.be/Bcg6C0G_tAA</a></p><p>Let’s get started!</p><h3 id=step-1-create-anaccount>Step 1. Create an account</h3><p>Head to MongoDB Atlas’s <a href=https://www.mongodb.com/try>website</a> and sign up with your email.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_1.jpg#layoutTextWidth></p><p>You might have to answer a short questionnaire to create your account.</p><h3 id=step-2-deploy-your-firstcluster>Step 2. Deploy your first cluster</h3><p>At a high level, a cluster is a set of nodes where copies of your database will be stored.</p><p>Click on build a database, and choose the shared database type (the free one!).</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_2.jpg#layoutTextWidth></p><p>It will give you options to customize your cluster, but you can go with the default. Just make sure you’re still in the free tier. After that, click on Create Cluster.</p><h3 id=step-3-create-a-username-andpassword>Step 3. Create a username and password</h3><p>While your cluster is being created in the background, you must create a database user. The username and password differ from the one you used to login into MongoDB Atlas; they will be used ONLY for this particular database (it helps keep the data secure and helps control who has access to what data).</p><p>Make sure to store your password safely since we’ll need it to connect to the database.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_3.jpg#layoutTextWidth></p><h3 id=step-4-add-your-ipaddress>Step 4. Add your IP Address</h3><p>You need to whitelist your IP address before connecting to your cluster. This is a security feature built into MongoDB Atlas. Go ahead and click Add your Current IP Address.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_4.jpg#layoutTextWidth></p><p>After that, just click on Finish and Close, and when the dialog box opens, click on Go to Databases.</p><h3 id=5-homepage>5. Homepage</h3><p>Welcome to your database’s homepage; you should see your cluster there. Before connecting it to your app, you have to create a collection inside it.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_5.jpg#layoutTextWidth></p><h3 id=step-6-create-a-collection>Step 6. Create a collection</h3><p>Click on Browse Collections, then Add My Own Data</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_6.jpg#layoutTextWidth></p><p>Type the name of your database and the collection name. In my case, my database name will be ‘to-do-app’, and the collection name ‘tasks’. Click on Create.</p><p>Great, you have created a collection where all your objects will be saved.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_7.jpg#layoutTextWidth></p><h3 id=step-7-generate-a-connection-string>Step 7. Generate a connection string</h3><p>Go back to your database homepage (top left, under DEPLOYMENT), and on your cluster’s main page, click Connect. You’ll get three methods to connect to your database.</p><p>Choose the “Connect your application” method.</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_8.jpg#layoutTextWidth></p><p>The provided connection string will be used on your app (so your app can connect and manipulate the database).</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_9.jpg#layoutTextWidth></p><h3 id=step-8-initialize-yourproject>Step 8. Initialize your project</h3><p>Now go to your IDE (I use VS Code) and start your app.</p><p>If this is your first time developing a full-stack web application, you’ll need to download Node.js to your computer.</p><p>You can download it from the <a href=https://nodejs.org/en/>official node website</a>, which will also install npm (Node Package Manager).</p><blockquote><p>npm is a package manager for Node.js with hundreds of thousands of packages. Although it does create some of your directory structure/organization, this is not the main purpose.</p></blockquote><blockquote><p>Its main goal is automated dependency and package management. This means that you can specify all of your project’s dependencies inside your package.json file. Any time you (or anyone else) need to get started with your project, they can just run npm install and immediately have all of the dependencies installed. On top of this, it is also possible to specify what versions your project depends upon to prevent updates from breaking your project.</p></blockquote><p>To initialize your first project with npm, create a project folder, and change the directory to your project’s folder.</p><p>Once this is done, you are ready to initialize your first project with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm init ## triggers the initialization of a project
</span></span></code></pre></div><h3 id=step-9-install-localpackages>Step 9. Install local packages</h3><p>Once you install any package using npm, the package is installed as a dependency in your app inside your package.json file, and its modules are stored inside node_modules folder.</p><p>npm install is the standard NPM command to install a package of your choice.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>install</span> <span class=p>&lt;</span><span class=kn>package</span> <span class=nx>name</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Now let’s install the packages we will use for this project.</p><p>Express:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm install express
</span></span></code></pre></div><p>MongoDB:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm install mongodb
</span></span></code></pre></div><p>Dotenv:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm install dotenv
</span></span></code></pre></div><blockquote><p>The dotenv package stores sensitive information that we don’t want to share. It creates environment variables and hides them from our main code, so for example, you can secure private keys in an env file and keep it out of sight when pushing it to GitHub.</p></blockquote><p>You can check that everything was successfully installed on your package-lock.json (under packages).</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_10.jpg#layoutTextWidth></p><h3 id=step-10-require-dependencies>Step 10. Require dependencies</h3><p>Once the packages are installed, create a new server.js file and open it with your code editor. Then, add the following lines of code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>express</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>)</span>    <span class=c1>#1const app = express()                        #2const MongoClient = require(&#39;mongodb&#39;).MongoClient.     #3</span>
</span></span></code></pre></div><p>Code Explanation:</p><ol><li>In your first line of code, you use the require function to include the “express module.”</li><li>Before you use the express module, you need to make an object of it.</li><li>The MongoDB module exports MongoClient, which you’ll use to connect to a MongoDB database. You can use an instance of MongoClient to connect to a cluster, access the database, and close the connection to that cluster.</li></ol><h3 id=step-11-connectdatabase>Step 11. Connect database</h3><p>You have to declare a variable for the string given by MongoDB. IMPORTANT: Replace the with the actual password that you created previously.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>connectionString</span> <span class=o>=</span> <span class=s1>&#39;mongodb+srv://juliafm:&lt;password&gt;@cluster0.qvesujr.mongodb.net/?retryWrites=true&amp;w=majority&#39;</span>
</span></span></code></pre></div><p>To finish connecting to the external database, add the following lines of code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>MongoClient</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>connectionString</span><span class=p>)</span>    <span class=o>.</span><span class=n>then</span><span class=p>(</span><span class=n>client</span> <span class=o>=&gt;</span> <span class=p>{</span>    <span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=err>`</span><span class=n>Connected</span> <span class=n>to</span> <span class=n>Database</span><span class=err>`</span><span class=p>)</span>    <span class=k>const</span> <span class=n>db</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>db</span><span class=p>(</span><span class=s1>&#39;to-do-app&#39;</span><span class=p>)</span>    <span class=k>const</span> <span class=n>tasksCollection</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>collection</span><span class=p>(</span><span class=s1>&#39;tasks&#39;</span><span class=p>)</span>    <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span><span class=n>CRUD</span> <span class=n>requests</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>catch</span><span class=p>(</span><span class=n>error</span> <span class=o>=&gt;</span> <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error</span><span class=p>))</span>
</span></span></code></pre></div><p>Code Explanation:</p><ol><li>Create a function with a promise</li><li>Tell what to do next (then) client</li><li>Pass it as a parameter to the arrow function</li><li>Create a console.log statement to make sure you’re connected</li><li>Specify which database and collection you’re connecting to</li><li>Add a catch statement to see if we get any errors</li></ol><p>Awesome, you’re all set. If you run your server now, you should see “Connected to Database” on your terminal.</p><p>This is the code you have so far:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>express</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>)</span><span class=k>const</span> <span class=n>app</span> <span class=o>=</span> <span class=n>express</span><span class=p>()</span><span class=k>const</span> <span class=n>MongoClient</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s1>&#39;mongodb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>MongoClientconst</span> <span class=n>connectionString</span> <span class=o>=</span> <span class=s1>&#39;mongodb+srv://juliafm:helloworld@cluster0.jgbyhks.mongodb.net/?retryWrites=true&amp;w=majority&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MongoClient</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>connectionString</span><span class=p>)</span><span class=o>.</span><span class=n>then</span><span class=p>(</span><span class=n>client</span> <span class=o>=&gt;</span> <span class=p>{</span>    <span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=s1>&#39;Connected to database&#39;</span><span class=p>)</span>    <span class=k>const</span> <span class=n>db</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>db</span><span class=p>(</span><span class=s1>&#39;to-do-app&#39;</span><span class=p>)</span>    <span class=k>const</span> <span class=n>taskCollection</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>collection</span><span class=p>(</span><span class=s1>&#39;tasks&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>//</span><span class=n>CRUD</span> <span class=n>request</span><span class=p>})</span><span class=o>.</span><span class=n>catch</span><span class=p>(</span><span class=n>error</span><span class=o>=&gt;</span> <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error</span><span class=p>))</span>
</span></span></code></pre></div><h3 id=step-12-set-upenv>Step 12. Set up .env</h3><p>For safety reasons, I want to show you how to move your MongoDB connection string to a .env file.</p><p>For that, you have to create a .env file inside your project’s folder. In this file, create a variable DB_STRING and paste your connection string (don’t forget to change the placeholder to your actual password).</p><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_11.jpg#layoutTextWidth></p><p>Go back to your server.js file, remove the variable that holds the connection string, and add this instead:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>require</span><span class=p>(</span><span class=s1>&#39;dotenv&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>config</span><span class=p>()</span><span class=k>const</span> <span class=n>connectionString</span> <span class=o>=</span> <span class=n>process</span><span class=o>.</span><span class=n>env</span><span class=o>.</span><span class=n>DB_STRING</span><span class=p>;</span>
</span></span></code></pre></div><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_12.jpg#layoutTextWidth></p><p>Finally, create a .gitignore file and add the .env there (you’ll see I’ve added the node_modules because they are so heavy, and there’s no need to push them to Github).</p><blockquote><p>A .gitignore file specifies intentionally untracked files that Git should ignore.</p></blockquote><p><img src=https://blog-imgs-23.s3.amazonaws.com/2022-09-12_connecting-mongodb-to-your-app-using-node.js_13.jpg#layoutTextWidth></p><p>Just remember, if you’re pushing to Heroku, you must remove the .env from the .gitignore file because it needs access to the database. Alternatively, you can add this config var via your app’s “Settings” tab in the Heroku Dashboard.</p><h3 id=conclusion>Conclusion</h3><p>I hope this tutorial was helpful. Please let me know if you still have any questions; I am always happy to help!</p><hr><p>If you liked this article, go follow me on <a href=https://twitter.com/juliafmorgado>Twitter</a> (where I share my tech journey) daily, connect with me on on <a href=https://www.linkedin.com/in/juliafmorgado/>LinkedIn</a>, check out my <a href=https://www.instagram.com/juliafmorgado/>IG</a>, and make sure to subscribe to my <a href=https://www.youtube.com/c/JuliaFMorgado>Youtube</a> channel for more amazing content!!</p><h3>Related Posts</h3><ul><li><a href=/posts/how-to-contribute-cncf-glossary-localization-no-code/>How to Contribute to CNCF Glossary Localization - No Code!</a></li><li><a href=/posts/build-website-hugo-on-aws-amplify/>Build a Website with HUGO on AWS Amplify</a></li><li><a href=/posts/embed-youtube-videos-with-javascript/>Automatically Embed Latest Youtube Videos on your Website with JavaScript (step by step)</a></li></ul></div><div class=post__footer><span><a class=category href=/categories/tutorial/>Tutorial</a></span>
<span><a class=tag href=/tags/tutorial/>Tutorial</a><a class=tag href=/tags/nodejs/>NodeJS</a><a class=tag href=/tags/mongodb/>MongoDB</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Julia F Morgado 2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-H2FSKPLDX2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H2FSKPLDX2")</script></body></html>